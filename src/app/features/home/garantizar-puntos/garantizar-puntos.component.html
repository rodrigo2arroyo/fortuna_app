<section class="bg-white text-left text-black">
  <header class="relative bg-[#0BA5EB] h-[279px] flex items-center justify-between px-10 overflow-hidden text-white">
    <div class="z-10 w-[504px]">
      <h1 class="tracking-[-0.02em] leading-[60px] font-semibold text-[48px]">Fortuna Puntos</h1>
      <p class="text-[16px] leading-6">
        ¿Te han dicho que no una y otra vez? Recarga puntos, úsalos como garantía y accede a un crédito sin evaluaciones.
        Empieza a construir tu camino financiero hoy.
      </p>
    </div>
    <div class="relative z-0 w-[517.6px] h-[537.4px] bg-[#fffaeb] rounded-[258.8px] rotate-[-47.7deg] opacity-80"></div>
    <div class="absolute top-[130.84px] left-1/2 -translate-x-[156.5px] w-[639.3px] h-[663.8px] bg-[#fef0c7] rounded-[800px] rotate-[-45deg] opacity-80"></div>
    <div class="absolute -translate-y-1/2 top-1/2 left-[827px] w-[401px] h-[401px] overflow-hidden z-10">a
      <img src="assets/img/Saving-pana.png" alt="" >
    </div>
  </header>

  <div class="flex flex-col items-center gap-16 px-10 py-10">
    <div class="w-full max-w-[1200px] flex items-center gap-[51px] h-10">
      <button
        routerLink="/home"
        class="rounded-full bg-white border border-[#e9eaeb] h-10 px-4 inline-flex items-center justify-center gap-2 cursor-pointer"
      >
        <img src="assets/icons/arrow-left.svg" alt="" class="w-6 h-6">
        <span class="font-semibold text-[14px] leading-4">Atrás</span>
      </button>

      <nav class="flex items-center gap-[23px] text-left text-[#d5d7da]">
        <span class="tracking-[0.03em] uppercase font-semibold">Productos</span>
        <img src="assets/icons/ChevronRight.svg" alt="" class="w-6 h-6">
        <span class="tracking-[0.03em] uppercase font-semibold text-[#414651]">GARANTIZAR CON PUNTOS</span>
      </nav>
    </div>
    @if (step === 1) {
      <app-step-card
        [currentStep]="1"
        [totalSteps]="3"
        headerText="PASO 01"
        title="Garantizar"
        size="md"
        footerPlacement="inside">
        <div step-content class="flex flex-col items-center gap-8 text-black">
          <div class="w-full max-w-[480px] flex flex-col items-center gap-2 text-[#131927]">
            <div class="w-full text-[14px] leading-5 text-[#0a0d12] text-center">Puntos de garantía</div>

            <div class="w-[236px] h-14 rounded-xl bg-gray-50 border border-[#47cd89] px-3 flex items-center gap-3">
              <input

                type="number"
                class="flex-1 leading-8 font-medium text-[24px] bg-transparent outline-none"
                [ngModel]="monto()"
                (ngModelChange)="onInputMonto($event)"
                min="0"/>
              <b class="leading-8">pts</b>
            </div>

            <p class="w-full text-left text-[14px] leading-5 text-[#a4a7ae]">
              Cuenta con suficientes puntos,
            </p>
          </div>

          <div class="w-full flex flex-col gap-4 text-left text-[#09090a]">
            <div class="w-full flex items-center gap-4">
              <img src="assets/icons/favorite-database.svg" class="w-8 h-8" alt="">
              <div class="flex-1 font-semibold leading-7 text-[18px]">{{ firstName() }} tus:</div>
            </div>

            <div class="w-full flex flex-col gap-2 text-[14px] text-[#717680]">
              <div class="w-full flex items-center justify-between">
                <span class="leading-5 font-medium">Puntos disponibles:</span>
                <span class="text-[16px] leading-6 font-medium text-[#0a0d12]">
              {{ dispFmt() }} pts
            </span>
              </div>
              <div class="w-full flex items-center justify-between">
                <span class="leading-5 font-medium">Puntos en garantía</span>
                <span class="leading-5 font-medium text-[#a4a7ae]">{{ garanFmt() }} pts</span>
              </div>
              <div class="w-full flex items-center justify-between">
                <span class="leading-5 font-medium">Puntos por activar</span>
                <span class="leading-5 font-medium text-[#a4a7ae]">{{ activarFmt() }} pts</span>
              </div>
            </div>
          </div>

          <div class="w-full rounded-lg bg-[#eef4ff] border border-[#6172f3] p-2 flex items-center gap-2">
            <img src="assets/icons/Step%20Details%20Icon.svg" alt="" class="w-5 h-5">
            <p class="flex-1 text-[14px] leading-5 font-medium">1 punto equivale a S/ 1</p>
          </div>
        </div>

        <div step-footer class="flex items-start gap-4 text-[18px] p-3">
          <button class="flex-1 rounded-full bg-white border border-[#e9eaeb] px-6 py-4 cursor-pointer" routerLink="/home/recargar-puntos">
            <span class="font-semibold leading-6">Ir a Recargar</span>
          </button>

          <button class="flex-1 rounded-full bg-[#0a0d12] text-white px-6 py-4 cursor-pointer" (click)="nextStep()">
            <span class="font-semibold leading-6">Confirmar</span>
          </button>
        </div>
      </app-step-card>
    }
    @if (step === 2) {
      <app-step-card
        [currentStep]="2"
        [totalSteps]="3"
        size="md"
        [showHeader]="true"
        [footerPlacement]="'inside'"
        [headerText]="'PASO 02'"
        [title]="'Préstamo Sin Evaluación'">
        <div step-content class="px-6 pt-8 pb-8 w-full shadow-[0_1px_2px_rgba(10,13,18,0.05)] bg-white">
          <div class="mt-6 w-full flex items-start justify-center gap-4">
            <div class="w-[136px] flex flex-col items-center gap-2 text-[16px]">
              <div class="w-full text-left text-[14px] text-[#717680] font-medium">Monto a solicitar</div>
              <div class="w-full flex items-center gap-3 text-[24px]">
                <b class="leading-8">S/</b>
                <span class="leading-8 font-medium">{{ montoFmtSoles() }}</span>
              </div>
            </div>
            <div class="w-[121px] flex flex-col items-center gap-2 text-[16px]">
              <div class="w-full text-left text-[14px] text-[#717680] font-medium">Garantía (Puntos)</div>
              <div class="w-full flex items-center gap-3 text-[24px]">
                <span class="leading-8 font-medium">{{ montoFmtPts() }}</span>
                <b class="leading-8">pts</b>
              </div>
            </div>
          </div>
          <div class="mt-6 w-[454px] mx-auto text-left">
            <div class="text-[16px] font-medium mb-2">Pagar con</div>
            <div class="rounded-xl border border-[#e5e7ea] px-3 py-3 flex items-center gap-3">
              <select class="flex-1 leading-6 outline-none bg-transparent">
                <option value="1">1 cuota</option>
                <option value="2">2 cuotas</option>
                <option value="3">3 cuotas</option>
                <option value="4">4 cuotas</option>
                <option value="5">5 cuotas</option>
                <option value="6">6 cuotas</option>
              </select>
              <img src="assets/icons/ChevronDown.svg" alt="" class="w-6 h-6 pointer-events-none">
            </div>
          </div>
        </div>
        <div step-footer class="bg-[#f5f8ff] px-6 py-6 flex flex-col gap-4 text-[#717680] text-[14px]">
          <div class="flex items-center justify-between">
            <span class="font-medium leading-5">Mi cuota mensual sería</span>
            <span class="text-[16px] leading-6 font-medium text-[#0a0d12]">S/ 47.20</span>
          </div>
          <div class="flex items-center justify-between">
            <span class="font-medium leading-5">Tasa efectiva anual (TEA)</span>
            <span class="text-[16px] leading-6 font-medium text-[#0a0d12]">35%</span>
          </div>
          <div class="flex items-center justify-between">
            <span class="font-medium leading-5">Tasa de costo efectiva anual (TCEA)</span>
            <span class="text-[16px] leading-6 font-medium text-[#0a0d12]">19456.79%</span>
          </div>
          <div class="flex items-center justify-between">
            <span class="font-medium leading-5">Comisión por uso de plataforma</span>
            <span class="text-[16px] leading-6 font-medium text-[#0a0d12]">S/ 42.5</span>
          </div>
          <div class="flex items-center justify-between">
            <span class="font-medium leading-5">Total a pagar</span>
            <span class="text-[16px] leading-6 font-medium text-[#0a0d12]">S/ 94.40</span>
          </div>

          <div class="mt-2 flex items-center gap-4 text-[18px] text-black">
            <button class="flex-1 rounded-full bg-white border border-[#e9eaeb] px-6 py-4 inline-flex items-center justify-center gap-2 cursor-pointer" (click)="prevStep()">
              <img src="assets/icons/arrow-left.svg" alt="" class="w-6 h-6">
              <span class="font-semibold leading-6">Atrás</span>
            </button>
            <button class="flex-1 rounded-full bg-[#0a0d12] text-white px-6 py-4 cursor-pointer" (click)="nextStep()">
              <span class="font-semibold leading-6">Confirmar</span>
            </button>
          </div>
        </div>
      </app-step-card>
    }
    @if (step === 3) {
      <app-step-card
        [currentStep]="3"
        [totalSteps]="3"
        size="md"
        [showHeader]="true"
        footerPlacement="inside"
        headerText="PASO 03"
        title="Tu solicitud ha sido ingresada con éxito">
        <div step-content class="px-6 pt-8 pb-8 w-full shadow-[0_1px_2px_rgba(10,13,18,0.05)] bg-white flex flex-col items-center gap-6">
          <div class="relative w-[280px] h-[280px] md:w-[320px] md:h-[320px]">
            <img
              src="assets/animation/circle-loader-icon.gif"
              alt="Confeti"
              class="absolute inset-0 w-full h-full object-contain pointer-events-none select-none"
            />
            <img
              src="assets/icons/checkbox-circle-fill.svg"
              alt="Éxito"
              class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[96px] h-[96px] md:w-[110px] md:h-[110px]"
            />
          </div>
          <b class="text-[24px] leading-[30px] md:text-[28px] md:leading-[36px] text-black text-center">
            Tu solicitud ha sido ingresada con éxito
          </b>
        </div>

        <div step-footer class="bg-[#f5f8ff] px-6 py-6 flex flex-col gap-4 text-[#717680] text-[14px]">
          <div class="flex items-center gap-2 text-[24px] text-black">
            <img src="assets/icons/Step%20Details%20Icon.svg" alt="" class="w-6 h-6">
            <b class="flex-1">Desembolso</b>
          </div>
          <p class="leading-5 font-medium text-black">
            Podrás ver el desembolso en tu cuenta bancaria en un plazo no mayor a 30 minutos, en el siguiente horario:
          </p>
          <div class="flex flex-col gap-1">
            <div class="flex items-center justify-between">
              <span class="font-medium leading-5 text-[#09090a]">Lunes a Viernes</span>
              <span class="text-[16px] leading-6 font-medium text-[#0a0d12]">8:30am a 6:00pm</span>
            </div>
            <div class="flex items-center justify-between">
              <span class="font-medium leading-5 text-[#09090a]">Sábados</span>
              <span class="text-[16px] leading-6 font-medium text-[#0a0d12]">8:30am a 1:00pm</span>
            </div>
          </div>
          <div class="mt-2 flex items-center text-[18px]">
            <button class="flex-1 rounded-full bg-[#0a0d12] text-white px-6 py-4 cursor-pointer" (click)="goHome()">
              <span class="font-semibold leading-6">Ir a Inicio</span>
            </button>
          </div>
        </div>
      </app-step-card>
    }
  </div>
</section>
